# چگونگی اجرای یک کانتینر در حالت تعاملی

تا کنون شما فقط کانتینرهایی را اجرا کرده‌اید که از تصاویر hello-world یا fhsinchy/hello-dock ایجاد شده‌اند. این تصاویر برای اجرای برنامه‌های ساده و غیرتعاملی طراحی شده‌اند.

اما تمام تصاویر به این سادگی نیستند. تصاویر می‌توانند یک توزیع لینوکس کامل را درون خود بپوشانند.

توزیع‌های معروف مانند Ubuntu، Fedora و Debian همگی تصاویر رسمی Docker موجود در Hub را دارند. زبان‌های برنامه‌نویسی مانند Python، PHP، Go یا زمان‌های اجرایی مانند Node و Deno همگی تصاویر رسمی خود را دارند.

این تصاویر نه فقط یک برنامه پیش‌تنظیم شده اجرا می‌کنند. بلکه به صورت پیش‌فرض تنظیم شده‌اند تا یک شل اجرایی داشته باشند. در مورد تصاویر سیستم‌عامل، ممکن است مثل sh یا bash باشد و در مورد زبان‌های برنامه‌نویسی یا زمان‌های اجرایی، معمولاً شل زبان پیش‌فرض آنها است.

همانطور که از تجربیات قبلی شما با رایانه‌ها یاد گرفته‌اید، شل‌ها برنامه‌های تعاملی هستند. یک تصویر کانفیگ شده برای اجرای چنین برنامه‌هایی، یک تصویر تعاملی است. این تصاویر نیاز به گزینه ویژه -it در دستور run کانتینر دارند.

به عنوان مثال، اگر یک کانتینر با استفاده از تصویر ubuntu با اجرای دستور docker container run ubuntu اجرا کنید، هیچ اتفاقی نمی‌افتد. اما اگر همان دستور را با گزینه -it اجرا کنید، باید مستقیماً در داخل bash درون کانتینر Ubuntu قرار بگیرید.

```bash
docker container run --rm -it ubuntu
```

حالا می‌توانید از مرورگر خود به آدرس http://127.0.0.1:8080 بروید و Nginx را در وب مشاهده کنید. اینجا درخواست‌های شما به پورت 8080 سیستم شما هدایت شده و از آنجا به پورت 80 داخل کانتینر Nginx می‌رسد.



همانطور که از خروجی دستور cat /etc/os-release می‌بینید، به واقع من با bash در حال اجرا درون کانتینر Ubuntu تعامل دارم.

گزینه -it صحنه را برای شما برای تعامل با هر برنامه تعاملی درون یک کانتینر تنظیم می‌کند. این گزینه در واقع دو گزینه جداگانه است که با هم ترکیب شده‌اند.

- گزینه -i یا --interactive شما را به جریان ورودی کانتینر متصل می‌کند تا بتوانید ورودی‌ها را به bash ارسال کنید.
- گزینه -t یا --tty اطمینان حاصل می‌کند که شما تجهیزات خوبی و یک تجربه مشابه ترمینال واقعی با تخصیص یک شبیه‌ترمینال (pseudo-tty) داشته باشید.

هنگامی که می‌خواهید یک کانتینر را در حالت تعاملی اجرا کنید، باید از گزینه -it استفاده کنید. یک مثال دیگر می‌تواند اجرای تصویر node به شکل زیر باشد:

```bash
docker container run --rm -it node
```

در اینجا ما یک کانتینر از تصویر node اجرا کرده‌ایم و به وضعیت تعاملی وصل شده‌ایم.
