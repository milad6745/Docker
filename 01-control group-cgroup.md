در Docker، **Control Group** یا به اختصار **cgroup**، مکانیزمی است که امکان مدیریت و محدودسازی منابع سیستم (مانند پردازنده، حافظه، دیسک و شبکه) را برای کانتینرها فراهم می‌کند. این قابلیت به کاربران Docker اجازه می‌دهد منابعی را که هر کانتینر می‌تواند مصرف کند، محدود کرده و مدیریت کنند. 

به بیان دیگر، **cgroup** به شما کمک می‌کند تا مطمئن شوید که یک کانتینر خاص نمی‌تواند منابع بیش از حدی از سیستم میزبان استفاده کند و در نتیجه عملکرد سایر کانتینرها یا خود سیستم را تحت تاثیر قرار دهد. cgroup از ویژگی‌های اصلی کرنل لینوکس است و Docker از این قابلیت به‌طور گسترده برای مدیریت منابع در کانتینرها استفاده می‌کند.

### وظایف و کاربردهای cgroup در Docker

1. **محدودیت مصرف CPU**:
   - می‌توان تنظیم کرد که هر کانتینر چه میزان از CPU را استفاده کند. به عنوان مثال، اگر سیستم شما چندین هسته پردازشی داشته باشد، می‌توانید مشخص کنید که یک کانتینر خاص تنها از یک هسته استفاده کند یا فقط درصد معینی از قدرت پردازشی را مصرف کند.

2. **محدودیت مصرف حافظه (RAM)**:
   - می‌توانید مقدار رم قابل استفاده برای هر کانتینر را محدود کنید. اگر یک کانتینر از این مقدار بیشتر استفاده کند، فرآیندهای داخل آن توسط Docker خاتمه داده می‌شوند. این کار به جلوگیری از مشکلات ناشی از مصرف بیش از حد حافظه توسط یک کانتینر کمک می‌کند.

3. **محدودیت I/O دیسک**:
   - cgroup می‌تواند میزان خواندن و نوشتن روی دیسک را کنترل کند، به طوری که هر کانتینر نتواند از پهنای باند I/O بیش از حد استفاده کند.

4. **محدودیت مصرف شبکه**:
   - با استفاده از cgroup، می‌توان میزان مصرف پهنای باند شبکه توسط هر کانتینر را نیز محدود کرد.

5. **اولویت‌بندی منابع**:
   - با استفاده از cgroup می‌توان اولویت‌های استفاده از منابع را مشخص کرد. این کار به کانتینرهای خاصی اجازه می‌دهد تا دسترسی بهتری به منابع داشته باشند، حتی زمانی که سایر کانتینرها مشغول به کار هستند.

### نحوه استفاده از cgroup در Docker

در Docker، می‌توانید از طریق دستورات زیر منابع یک کانتینر را محدود کنید:

- برای محدود کردن CPU:
  ```bash
  docker run --cpus=".5" my_container
  ```

- برای محدود کردن حافظه:
  ```bash
  docker run -m 512m my_container
  ```

- برای محدود کردن I/O دیسک:
  ```bash
  docker run --device-write-bps /dev/sda:1mb my_container
  ```

به کمک cgroup و این قابلیت‌ها، می‌توان از تخصیص بهینه منابع در محیط‌هایی با بار کاری سنگین و کانتینرهای متعدد اطمینان حاصل کرد.
